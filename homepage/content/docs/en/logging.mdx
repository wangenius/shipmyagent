---
title: Logging & Audit Data
description: Where execution logs are stored, their formats, and how to toggle LLM logging
---

# Logging & Audit Data

> ⚠️ **Simplified mode (2026-02-03)**: the current `shipmyagent` package disables Tasks/Runs and Approvals. The audit data you can rely on is primarily `.ship/logs` and `.ship/chats`.

ShipMyAgent’s auditability is built from multiple data streams under `.ship/`: system logs, agent execution logs, and chat logs.

## Key `.ship/` directories

```text
.ship/
  logs/       # system Logger + AgentLogger + LLM request/response
  chats/      # chat messages (jsonl, with archives)
  .cache/     # runtime cache (e.g. ingress idempotency)
  memory/     # long-term memory
  public/     # public files (via /public/* when configured)
  mcp/        # MCP config
```

## Unified logger: `Logger`

ShipMyAgent now uses a single `Logger` implementation for both system-level and agent execution logs:

- File: `.ship/logs/<YYYY-MM-DD>.jsonl` (JSONL)
- Persistence: each log entry is appended (system events + agent execution + LLM request/response)

## LLM request logging toggles (important)

By default, ShipMyAgent logs outgoing LLM requests (often including system + messages) into `.ship/logs/<date>.jsonl`.

To disable:

- `SMA_LOG_LLM_MESSAGES=0` (env var), or
- `llm.logMessages=false` in `ship.json`

To include full payload in `meta.payload` (more sensitive):

- `SMA_LOG_LLM_PAYLOAD=1`

## Where to look

- **Chat history**: `.ship/chats/<chatKey>.jsonl` (plus `.archive-<n>.jsonl`)
- **Run status/output**: `.ship/runs/<runId>.json`
- **Stuck on approvals**: `.ship/approvals/<approvalId>.json` + `.ship/logs/*`
