---
title: é›†æˆ
description: å°† ShipMyAgent ä¸å¤–éƒ¨æœåŠ¡å’Œå·¥å…·è¿æ¥
---

# é›†æˆ

é€šè¿‡é›†æˆ GitHubã€Slackã€Discord å’Œè‡ªå®šä¹‰ webhook ç­‰å¤–éƒ¨æœåŠ¡æ¥æ‰©å±• ShipMyAgentã€‚

## æ¦‚è¿°

é›†æˆå…è®¸ ShipMyAgentï¼š
- æ¥æ”¶é€šçŸ¥å’Œå‘½ä»¤
- å‘é€è‡ªåŠ¨æ›´æ–°
- ä¸å¤–éƒ¨ API äº¤äº’
- è§¦å‘å…¶ä»–å·¥å…·ä¸­çš„å·¥ä½œæµç¨‹

## å¯ç”¨é›†æˆ

- [Telegram](#telegram) - èŠå¤©å’Œé€šçŸ¥
- [GitHub](#github) - PR è‡ªåŠ¨åŒ–å’Œ issue ç®¡ç†
- [Slack](#slack) - å›¢é˜Ÿé€šçŸ¥
- [Discord](#discord) - ç¤¾åŒºå‚ä¸
- [Webhook](#webhook) - è‡ªå®šä¹‰é›†æˆ

---

## Telegram

åœ¨ Telegram ä¸Šä¸æ‚¨çš„ agent èŠå¤©å¹¶æ¥æ”¶é€šçŸ¥ã€‚

### è®¾ç½®

#### 1. åˆ›å»º Bot

1. æ‰“å¼€ Telegram å¹¶æœç´¢ [@BotFather](https://t.me/BotFather)
2. å‘é€ `/newbot` å‘½ä»¤
3. æŒ‰ç…§æç¤ºè®¾ç½®åç§°å’Œç”¨æˆ·å
4. å¤åˆ¶ **HTTP API Token**

#### 2. è·å–æ‚¨çš„ Chat ID

1. åœ¨ Telegram ä¸Šæœç´¢ [@userinfobot](https://t.me/userinfobot)
2. å‘é€ä»»ä½•æ¶ˆæ¯
3. å¤åˆ¶æ‚¨çš„æ•°å­— **User ID**

å¯¹äºç¾¤ç»„ï¼š
1. å°†æ‚¨çš„ bot æ·»åŠ åˆ°ç¾¤ç»„
2. åœ¨ç¾¤ç»„ä¸­å‘é€æ¶ˆæ¯
3. è®¿é—®ï¼š`https://api.telegram.org/bot<BOT_TOKEN>/getUpdates`
4. æ‰¾åˆ° `chat.id` å€¼

#### 3. åœ¨ ship.json ä¸­é…ç½®

```json
{
  "integrations": {
    "telegram": {
      "enabled": true,
      "botToken": "${TELEGRAM_BOT_TOKEN}",
      "chatId": "${TELEGRAM_CHAT_ID}"
    }
  }
}
```

### åŠŸèƒ½

#### èŠå¤©å‘½ä»¤

```
/start - å¼€å§‹äº¤äº’
/status - æ£€æŸ¥ agent çŠ¶æ€
/tasks - åˆ—å‡ºå®šæ—¶ä»»åŠ¡
/help - æ˜¾ç¤ºå¯ç”¨å‘½ä»¤
```

#### æ‰¹å‡†å·¥ä½œæµç¨‹

å½“ agent éœ€è¦å¯¹æ•æ„Ÿæ“ä½œçš„æ‰¹å‡†æ—¶ï¼š

```
ğŸ”” éœ€è¦æ‰¹å‡†

æ“ä½œï¼šå†™å…¥ src/config.js
æ›´æ”¹ï¼š+5 è¡Œï¼Œ-2 è¡Œ

å›å¤ï¼š
âœ… approve - å…è®¸æ“ä½œ
âŒ reject - æ‹’ç»æ“ä½œ
ğŸ“ modify - å»ºè®®æ›´æ”¹
```

---

## GitHub

è‡ªåŠ¨åŒ–æ‹‰å–è¯·æ±‚ã€é—®é¢˜å’Œä»“åº“ç®¡ç†ã€‚

### è®¾ç½®

#### 1. åˆ›å»ºä¸ªäººè®¿é—®ä»¤ç‰Œ

1. è½¬åˆ° GitHub è®¾ç½® â†’ å¼€å‘è€…è®¾ç½® â†’ ä¸ªäººè®¿é—®ä»¤ç‰Œ â†’ ä»¤ç‰Œï¼ˆç»å…¸ï¼‰
2. ç”Ÿæˆæ–°ä»¤ç‰Œï¼ˆç»å…¸ï¼‰
3. é€‰æ‹©èŒƒå›´ï¼š
   - `repo`ï¼ˆå®Œå…¨æ§åˆ¶ç§æœ‰ä»“åº“ï¼‰
   - `public_repo`ï¼ˆè®¿é—®å…¬å…±ä»“åº“ï¼‰
4. å¤åˆ¶ä»¤ç‰Œ

#### 2. åœ¨ ship.json ä¸­é…ç½®

```json
{
  "integrations": {
    "github": {
      "enabled": true,
      "token": "${GITHUB_TOKEN}",
      "repository": "owner/repo"
    }
  }
}
```

### åŠŸèƒ½

#### è‡ªåŠ¨åŒ– PR å®¡æŸ¥

```markdown
---
id: pr-review
name: PR å®¡æŸ¥ Bot
cron: "*/30 * * * *"
notify: ["telegram", "github"]
---

å®¡æŸ¥æ‰€æœ‰å¼€æ”¾çš„æ‹‰å–è¯·æ±‚å¹¶å‘å¸ƒè¯„è®ºã€‚
```

#### Issue åˆ†ç±»

```markdown
---
id: issue-triage
name: Issue åˆ†ç±»
cron: "0 */2 * * *"
---

å¯¹æ–°é—®é¢˜è¿›è¡Œåˆ†ç±»å¹¶åº”ç”¨æ ‡ç­¾ã€‚
```

### GitHub Actions é›†æˆ

åˆ›å»ºå·¥ä½œæµæ–‡ä»¶ï¼š`.github/workflows/agent-review.yml`

```yaml
name: Agent å®¡æŸ¥
on:
  pull_request:
    types: [opened, synchronize]

jobs:
  agent-review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: è¿è¡Œ Agent å®¡æŸ¥
        run: shipmyagent tasks run pr-review
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
```

---

## Slack

å‘æ‚¨çš„ Slack å·¥ä½œåŒºå‘é€é€šçŸ¥å’Œæ›´æ–°ã€‚

### è®¾ç½®

#### 1. åˆ›å»ºä¼ å…¥ Webhook

1. è½¬åˆ° https://api.slack.com/apps
2. åˆ›å»ºæ–°åº”ç”¨ â†’ "ä»é›¶å¼€å§‹"
3. å¯ç”¨"ä¼ å…¥ Webhooks"
4. ç‚¹å‡»"æ·»åŠ æ–° Webhook åˆ°å·¥ä½œåŒº"
5. é€‰æ‹©é¢‘é“å¹¶å¤åˆ¶ **Webhook URL**

#### 2. åœ¨ ship.json ä¸­é…ç½®

```json
{
  "integrations": {
    "slack": {
      "enabled": true,
      "webhook": "${SLACK_WEBHOOK_URL}",
      "channel": "#engineering",
      "username": "ShipMyAgent",
      "icon": ":robot_face:"
    }
  }
}
```

---

## Discord

åœ¨ Discord ä¸Šä¸æ‚¨çš„ç¤¾åŒºäº’åŠ¨ã€‚

### è®¾ç½®

#### 1. åˆ›å»º Discord åº”ç”¨ç¨‹åº

1. è½¬åˆ° https://discord.com/developers/applications
2. åˆ›å»º"æ–°åº”ç”¨ç¨‹åº"
3. è½¬åˆ°"Bot"éƒ¨åˆ† â†’ åˆ›å»º Bot
4. å¤åˆ¶ **Token**

#### 2. å¯ç”¨ç‰¹æƒæ„å›¾

- æ¶ˆæ¯å†…å®¹æ„å›¾
- æœåŠ¡å™¨æˆå‘˜æ„å›¾

#### 3. é‚€è¯· Bot åˆ°æœåŠ¡å™¨

1. è½¬åˆ°"OAuth2" â†’ "URL ç”Ÿæˆå™¨"
2. é€‰æ‹©èŒƒå›´ï¼š`bot`
3. é€‰æ‹© bot æƒé™ï¼š
   - å‘é€æ¶ˆæ¯
   - è¯»å–æ¶ˆæ¯å†å²
   - æ·»åŠ ååº”
4. å¤åˆ¶ URL å¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
5. å°† bot æ·»åŠ åˆ°æ‚¨çš„æœåŠ¡å™¨

#### 4. åœ¨ ship.json ä¸­é…ç½®

```json
{
  "integrations": {
    "discord": {
      "enabled": true,
      "token": "${DISCORD_BOT_TOKEN}",
      "guildId": "${DISCORD_GUILD_ID}",
      "channelIds": {
        "notifications": "123456789",
        "commands": "987654321"
      }
    }
  }
}
```

---

## Webhook

ç”¨äºè‡ªå®šä¹‰é›†æˆçš„é€šç”¨ webhook æ”¯æŒã€‚

### é…ç½®

```json
{
  "integrations": {
    "webhook": {
      "enabled": true,
      "url": "https://your-server.com/webhook",
      "method": "POST",
      "headers": {
        "Authorization": "Bearer ${WEBHOOK_TOKEN}",
        "Content-Type": "application/json"
      },
      "timeout": 5000,
      "retryAttempts": 3,
      "retryDelay": 1000
    }
  }
}
```

### Webhook è´Ÿè½½

ShipMyAgent å‘é€ JSON è´Ÿè½½ï¼š

```json
{
  "event": "task.completed",
  "timestamp": "2024-01-15T10:30:00Z",
  "task": {
    "id": "daily-report",
    "name": "æ¯æ—¥æŠ¥å‘Š"
  },
  "result": {
    "status": "success",
    "output": "ä»»åŠ¡æˆåŠŸå®Œæˆ...",
    "duration": 45000
  }
}
```

### äº‹ä»¶ç±»å‹

| äº‹ä»¶ | æè¿° |
|------|------|
| `task.started` | ä»»åŠ¡å¼€å§‹æ‰§è¡Œ |
| `task.completed` | ä»»åŠ¡æˆåŠŸå®Œæˆ |
| `task.failed` | ä»»åŠ¡å¤±è´¥ |
| `approval.requested` | éœ€è¦æ‰¹å‡† |
| `approval.granted` | æ‰¹å‡†å·²æˆäºˆ |
| `approval.denied` | æ‰¹å‡†è¢«æ‹’ç» |

---

## å¤šä¸ªé›†æˆ

ä¸€èµ·ä½¿ç”¨å¤šä¸ªé›†æˆï¼š

```json
{
  "integrations": {
    "telegram": {
      "enabled": true,
      "botToken": "${TELEGRAM_BOT_TOKEN}",
      "chatId": "${TELEGRAM_CHAT_ID}"
    },
    "github": {
      "enabled": true,
      "token": "${GITHUB_TOKEN}",
      "repository": "owner/repo"
    },
    "slack": {
      "enabled": true,
      "webhook": "${SLACK_WEBHOOK_URL}",
      "channel": "#alerts"
    }
  }
}
```

---

## æµ‹è¯•é›†æˆ

æµ‹è¯•æ¯ä¸ªé›†æˆï¼š

```bash
# æµ‹è¯• Telegram
shipmyagent test --integration telegram

# æµ‹è¯• GitHub
shipmyagent test --integration github

# æµ‹è¯•æ‰€æœ‰é›†æˆ
shipmyagent test --integration all
```

---

## æ•…éšœæ’æŸ¥

### Telegram æ— å“åº”

1. **éªŒè¯ bot token**
2. **æ£€æŸ¥ chat ID**
3. **é‡å¯ agent**

### GitHub é›†æˆé—®é¢˜

1. **Token èŒƒå›´**ï¼šç¡®ä¿ä»¤ç‰Œå…·æœ‰æ‰€éœ€èŒƒå›´
2. **ä»“åº“è®¿é—®**ï¼šä»¤ç‰Œå¿…é¡»æœ‰æƒè®¿é—®ä»“åº“
3. **é€Ÿç‡é™åˆ¶**ï¼šGitHub æœ‰ API é€Ÿç‡é™åˆ¶

### Webhook å¤±è´¥

1. **æ£€æŸ¥ URL å¯è®¿é—®æ€§**
2. **éªŒè¯èº«ä»½éªŒè¯**
3. **æŸ¥çœ‹æ—¥å¿—**

---

## å®‰å…¨è€ƒè™‘

### ä¿æŠ¤ API Key

```bash
# âœ… è‰¯å¥½ - ç¯å¢ƒå˜é‡
export GITHUB_TOKEN="ghp_..."
export TELEGRAM_BOT_TOKEN="123456:..."

# âŒ ä¸å¥½ - ç¡¬ç¼–ç 
{
  "token": "ghp_1234567890"
}
```

### é™åˆ¶ Bot æƒé™

- ä»…æˆäºˆå¿…è¦çš„æƒé™
- ä¸º Telegram ä½¿ç”¨ç‰¹å®šçš„ `chatId`
- ä½¿ç”¨æœ‰èŒƒå›´çš„ GitHub ä»¤ç‰Œ
- è®¾ç½® webhook å¯†é’¥

---

## ä¸‹ä¸€æ­¥

- [é…ç½®](/docs/configuration) - é›†æˆè®¾ç½®è¯¦ç»†ä¿¡æ¯
- [ä»»åŠ¡](/docs/tasks) - ä½¿ç”¨é›†æˆè‡ªåŠ¨åŒ–
- [æœ€ä½³å®è·µ](/docs/best-practices) - å®‰å…¨æŒ‡å—
