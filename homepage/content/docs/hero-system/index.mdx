---
title: Hero 系统
---
# Hero 系统

Hero 系统是 Vibecape 的核心功能之一，提供可定制的 AI 智能体，每个 Hero 都有独特的个性、能力和工具。

## 什么是 Hero？

Hero 是 AI 智能体，具有：

- **独特的身份**：名称、描述、头像
- **专门的系统提示词**：定义角色和行为方式
- **专属工具集**：决定能执行哪些操作
- **工具选择策略**：控制何时使用工具
- **欢迎消息**：新对话的开场白
- **建议预设**：快速开始的提示建议

## Hero 类型

### 内置 Hero

Vibecape 提供了多个预配置的 Hero：

- **Nova**：通用智能助手（默认）
- **Iris**：文档专家
- **Luca**：创意助手
- **Max**：分析师
- **Sage**：研究专家
- **Muse**：灵感伙伴

### 自定义 Hero

用户可以创建自己的 Hero：

- 可视化编辑器
- 完全自定义提示词
- 灵活的工具策略
- 自动头像生成

## 文档导航

### 核心概念

- **[系统概述](./overview)** - Hero 系统的整体架构和核心概念
- **[数据模型](./data-model)** - Hero 的数据结构和存储方式

### 实现细节

- **[前端实现](./frontend)** - Hero 的 UI 组件和状态管理
- **[后端实现](./backend)** - Hero 的服务和处理器
- **[编辑器扩展](./editor-extensions)** - Tiptap 自定义节点详解
- **[聊天集成](./chat-integration)** - Hero 与聊天系统的集成

## 快速开始

### 创建自定义 Hero

1. 打开 Vibecape 应用
2. 在侧边栏选择 "Heroes" 标签
3. 点击 "+" 按钮创建新 Hero
4. 使用 Slash 命令编辑：
   - `/name` - 设置 Hero 名称
   - `/desc` - 设置 Hero 描述
   - `/tool` - 设置工具策略
5. 编写系统提示词（普通段落）
6. 自动保存完成

### 在聊天中使用 Hero

1. 打开聊天面板
2. 点击左上角的 Hero 头像
3. 从列表中选择一个 Hero
4. 开始对话

## Hero 配置示例

### 基础配置

```typescript
{
  name: "写作助手",
  description: "专业的写作助手，擅长润色和改进文本",
  prompt: "你是一个专业的写作助手...",
  toolChoice: "auto",
  maxSteps: 20
}
```

### 完整配置

```typescript
{
  name: "代码审查员",
  description: {
    en: "Expert code reviewer",
    zh: "专业代码审查员"
  },
  prompt: {
    en: "You are an expert code reviewer...",
    zh: "你是一个专业的代码审查员..."
  },
  tools: {
    docReader: docReaderTools,
    docEditor: docEditorTools
  },
  toolChoice: "required",
  maxSteps: 30,
  welcome: {
    en: "Hi! I'll help you review your code.",
    zh: "你好！我会帮你审查代码。"
  },
  suggestions: [
    {
      title: {
        en: "Review this function",
        zh: "审查这个函数"
      },
      prompt: {
        en: "Please review this function",
        zh: "请帮我审查这个函数"
      }
    }
  ]
}
```

## 工具策略

| 策略 | 说明 | 适用场景 |
|------|------|---------|
| `auto` | AI 自动决定是否使用工具 | 通用助手（推荐） |
| `required` | 必须使用工具 | 需要强制执行操作的场景 |
| `none` | 不使用工具 | 纯对话场景 |

## 常见问题

### Hero 和普通 AI 聊天有什么区别？

Hero 有：
- 固定的系统提示词（定义角色）
- 专属的工具集（决定能力）
- 工具使用策略（控制行为）
- 可视化配置界面

### 如何创建自己的 Hero？

使用 Hero 编辑器：
1. 点击 "+" 创建
2. 使用 `/name` 设置名称
3. 使用 `/desc` 设置描述
4. 编写系统提示词
5. 使用 `/tool` 设置工具策略

### 自定义 Hero 可以使用工具吗？

目前自定义 Hero 不支持直接配置工具。如需工具支持，可以：
- 在系统提示词中描述工具使用方式
- 选择合适的工具策略（auto/required）

### Hero 数据存储在哪里？

- **app.db**：自定义 Hero 的配置（~/vibecape/app.db）
- **heroes.json**：运行时配置缓存
- **文件系统**：Hero 头像（~/vibecape/assets/avatars/）

### 如何删除自定义 Hero？

1. 在 Hero 列表中找到要删除的 Hero
2. 点击右上角 "..." 菜单
3. 选择 "删除"

### 内置 Hero 可以修改吗？

不可以。内置 Hero 是应用自带的，无法修改。如需类似功能，可以创建自定义 Hero。

## 技术架构

Hero 系统采用分层架构：

```
前端 (Renderer)
  ├── HeroSidebar (列表)
  ├── HeroEditor (编辑器)
  ├── HeroSelector (聊天选择器)
  └── useHeroStore (状态管理)

后端 (Main)
  ├── HeroHandler (IPC 处理)
  ├── HeroService (业务逻辑)
  ├── HeroRepository (数据访问)
  ├── HeroesManager (Hero 注册表)
  └── HeroRunner (执行引擎)

数据存储
  ├── app.db (SQLite)
  ├── heroes.json (配置缓存)
  └── ~/vibecape/assets/avatars/ (头像)
```

## 相关资源

- [Agent Tools 文档](/docs/guide/agent-tools) - Hero 可用的工具详解
- [Memory 文档](/docs/guide/memory) - Hero 的记忆和上下文管理
- [Repository 架构](/docs/guide/REPOSITORY_ARCHITECTURE) - 仓库系统架构

## 贡献

如果你想为 Hero 系统贡献代码或报告问题，请访问 [GitHub 仓库](https://github.com/yourusername/vibecape)。
